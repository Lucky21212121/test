{"ast":null,"code":"var _jsxFileName = \"D:\\\\ccc\\\\testgit\\\\jianshu\\\\src\\\\pages\\\\home\\\\index.js\";\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport Topic from './components/Topic';\nimport List from './components/List';\nimport Recommend from './components/Recommend';\nimport Writter from './components/Writter';\nimport { actionCreators } from \"./store\";\nimport { HomeWrapper, HomeLeft, HomeRight, BackTop } from './style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Home extends PureComponent {\n  handleScrollTop() {\n    window.scrollTo(0, 0);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(HomeWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(HomeLeft, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"banner-img\",\n          src: \"https://upload.jianshu.io/admin_banners/web_images/5067/5c739c1fd87cbe1352a16f575d2df32a43bea438.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Topic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(List, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HomeRight, {\n        children: [/*#__PURE__*/_jsxDEV(Recommend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Writter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), this.props.showScroll ? /*#__PURE__*/_jsxDEV(BackTop, {\n        onClick: this.handleScrollTop,\n        children: \"\\u9876\\u90E8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 42\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  }\n  componentDidMount() {\n    this.props.changeHomeData();\n    this.bindEvents();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.props.changeScrollTopShow);\n  }\n  bindEvents() {\n    window.addEventListener('scroll', this.props.changeScrollTopShow);\n  }\n}\nconst mapState = state => ({\n  showScroll: state.getIn(['home', 'showScroll'])\n});\nconst mapDispatch = dispatch => ({\n  changeHomeData() {\n    const action = actionCreators.getHomeInfo();\n    dispatch(action);\n  },\n  changeScrollTopShow() {\n    if (document.documentElement.scrollTop > 100) {\n      dispatch(actionCreators.toggleTopShow(true));\n    } else {\n      dispatch(actionCreators.toggleTopShow(false));\n    }\n  }\n});\nexport default connect(mapState, mapDispatch)(Home);","map":{"version":3,"names":["React","PureComponent","connect","Topic","List","Recommend","Writter","actionCreators","HomeWrapper","HomeLeft","HomeRight","BackTop","Home","handleScrollTop","window","scrollTo","render","props","showScroll","componentDidMount","changeHomeData","bindEvents","componentWillUnmount","removeEventListener","changeScrollTopShow","addEventListener","mapState","state","getIn","mapDispatch","dispatch","action","getHomeInfo","document","documentElement","scrollTop","toggleTopShow"],"sources":["D:/ccc/testgit/jianshu/src/pages/home/index.js"],"sourcesContent":["import React,{PureComponent} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Topic from './components/Topic';\r\nimport List from './components/List';\r\nimport Recommend from './components/Recommend';\r\nimport Writter from './components/Writter';\r\nimport {actionCreators} from \"./store\";\r\n\r\n\r\n\r\nimport {\r\n    HomeWrapper,\r\n    HomeLeft,\r\n    HomeRight,\r\n    BackTop\r\n} from './style';\r\nclass Home extends PureComponent {\r\n    handleScrollTop(){\r\n        window.scrollTo(0,0);\r\n    }\r\n    render(){\r\n        return (\r\n            <HomeWrapper>\r\n                <HomeLeft>\r\n                    <img className='banner-img' src=\"https://upload.jianshu.io/admin_banners/web_images/5067/5c739c1fd87cbe1352a16f575d2df32a43bea438.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\" />\r\n                <Topic/>\r\n                <List/>\r\n                </HomeLeft>\r\n                <HomeRight>\r\n                    <Recommend/>\r\n                    <Writter/>\r\n                </HomeRight>\r\n                {this.props.showScroll ? <BackTop onClick={this.handleScrollTop}>顶部</BackTop> : null }\r\n            </HomeWrapper>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        this.props.changeHomeData();\r\n        this.bindEvents();\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('scroll',this.props.changeScrollTopShow)\r\n    }\r\n    bindEvents(){\r\n        window.addEventListener('scroll',this.props.changeScrollTopShow)\r\n    }\r\n}\r\nconst mapState=(state)=>({\r\n    showScroll:state.getIn(['home','showScroll'])\r\n})\r\nconst mapDispatch = (dispatch)=>({\r\n    changeHomeData(){\r\n        const action = actionCreators.getHomeInfo()\r\n        dispatch(action)       \r\n    },\r\n    changeScrollTopShow(){\r\n        if(document.documentElement.scrollTop > 100){\r\n            dispatch(actionCreators.toggleTopShow(true))\r\n\r\n        }else {\r\n            dispatch(actionCreators.toggleTopShow(false))\r\n        }\r\n        \r\n\r\n    }\r\n})\r\nexport  default connect(mapState,mapDispatch)(Home)"],"mappings":";AAAA,OAAOA,KAAK,IAAEC,aAAa,QAAO,OAAO;AACzC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAAQC,cAAc,QAAO,SAAS;AAItC,SACIC,WAAW,EACXC,QAAQ,EACRC,SAAS,EACTC,OAAO,QACJ,SAAS;AAAC;AACjB,MAAMC,IAAI,SAASX,aAAa,CAAC;EAC7BY,eAAe,GAAE;IACbC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAC,CAAC,CAAC;EACxB;EACAC,MAAM,GAAE;IACJ,oBACI,QAAC,WAAW;MAAA,wBACR,QAAC,QAAQ;QAAA,wBACL;UAAK,SAAS,EAAC,YAAY;UAAC,GAAG,EAAC;QAA6J;UAAA;UAAA;UAAA;QAAA,QAAG,eACpM,QAAC,KAAK;UAAA;UAAA;UAAA;QAAA,QAAE,eACR,QAAC,IAAI;UAAA;UAAA;UAAA;QAAA,QAAE;MAAA;QAAA;QAAA;QAAA;MAAA,QACI,eACX,QAAC,SAAS;QAAA,wBACN,QAAC,SAAS;UAAA;UAAA;UAAA;QAAA,QAAE,eACZ,QAAC,OAAO;UAAA;UAAA;UAAA;QAAA,QAAE;MAAA;QAAA;QAAA;QAAA;MAAA,QACF,EACX,IAAI,CAACC,KAAK,CAACC,UAAU,gBAAG,QAAC,OAAO;QAAC,OAAO,EAAE,IAAI,CAACL,eAAgB;QAAA,UAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAAU,GAAG,IAAI;IAAA;MAAA;MAAA;MAAA;IAAA,QAC1E;EAEtB;EACAM,iBAAiB,GAAE;IACf,IAAI,CAACF,KAAK,CAACG,cAAc,EAAE;IAC3B,IAAI,CAACC,UAAU,EAAE;EACrB;EACAC,oBAAoB,GAAE;IAClBR,MAAM,CAACS,mBAAmB,CAAC,QAAQ,EAAC,IAAI,CAACN,KAAK,CAACO,mBAAmB,CAAC;EACvE;EACAH,UAAU,GAAE;IACRP,MAAM,CAACW,gBAAgB,CAAC,QAAQ,EAAC,IAAI,CAACR,KAAK,CAACO,mBAAmB,CAAC;EACpE;AACJ;AACA,MAAME,QAAQ,GAAEC,KAAK,KAAI;EACrBT,UAAU,EAACS,KAAK,CAACC,KAAK,CAAC,CAAC,MAAM,EAAC,YAAY,CAAC;AAChD,CAAC,CAAC;AACF,MAAMC,WAAW,GAAIC,QAAQ,KAAI;EAC7BV,cAAc,GAAE;IACZ,MAAMW,MAAM,GAAGxB,cAAc,CAACyB,WAAW,EAAE;IAC3CF,QAAQ,CAACC,MAAM,CAAC;EACpB,CAAC;EACDP,mBAAmB,GAAE;IACjB,IAAGS,QAAQ,CAACC,eAAe,CAACC,SAAS,GAAG,GAAG,EAAC;MACxCL,QAAQ,CAACvB,cAAc,CAAC6B,aAAa,CAAC,IAAI,CAAC,CAAC;IAEhD,CAAC,MAAK;MACFN,QAAQ,CAACvB,cAAc,CAAC6B,aAAa,CAAC,KAAK,CAAC,CAAC;IACjD;EAGJ;AACJ,CAAC,CAAC;AACF,eAAgBlC,OAAO,CAACwB,QAAQ,EAACG,WAAW,CAAC,CAACjB,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}