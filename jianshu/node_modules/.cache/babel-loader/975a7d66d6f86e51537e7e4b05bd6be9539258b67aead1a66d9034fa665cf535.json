{"ast":null,"code":"var _jsxFileName = \"D:\\\\ccc\\\\testgit\\\\jianshu\\\\src\\\\pages\\\\home\\\\components\\\\Writter.js\";\nimport React, { PureComponent } from \"react\";\nimport axios from \"axios\";\nimport { WritterWrapper, WritterTitle, WritterList, WritterItem } from \"../style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Writter extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allList: null,\n      listF: null\n    };\n    this.handleChangePage = this.handleChangePage.bind(this);\n  }\n  componentDidMount() {\n    axios.get('/api/home.json').then(res => {\n      const {\n        data,\n        success\n      } = res.data;\n      if (success === true) {\n        const perPage = 5;\n        const result = data.writterList.reduce((acc, curr, i) => {\n          const pageNum = Math.floor(i / perPage);\n          if (!acc[pageNum]) {\n            acc[pageNum] = {\n              a: pageNum + 1,\n              array: []\n            };\n          }\n          acc[pageNum].array.push(curr);\n          return acc;\n        }, []);\n        this.setState({\n          allList: result[0]\n        });\n        this.setState({\n          listF: result\n        });\n      }\n    });\n  }\n  render() {\n    const {\n      allList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(WritterWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(WritterTitle, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"recomwritter\",\n          children: \"\\u63A8\\u8350\\u4F5C\\u8005\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"changewritter\",\n          onClick: () => this.handleChangePage(allList, this.spinIcon),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            ref: icon => {\n              this.spinIcon = icon;\n            },\n            className: \"iconfont spin \",\n            children: \"\\uE851\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), \"\\u6362\\u4E00\\u6279\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WritterList, {\n        children: allList && Array.isArray(allList.array) && allList.array.map((item, v) => {\n          return /*#__PURE__*/_jsxDEV(WritterItem, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"write\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"writter\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"writter-pic\",\n                  src: item.imgUrl\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"writter-name\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"writter-jianjie\",\n                children: item.jianjie\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"writter-guanzhu\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"iconfont\",\n                children: \"\\uEAF3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), \"\\u5173\\u6CE8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this)]\n          }, v, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"chakanquanbu\",\n        children: [\"\\u67E5\\u770B\\u5168\\u90E8\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont\",\n          children: \"\\uE62D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n  handleChangePage(e, spin) {\n    let data = e.a + 1;\n    let domdta = this.state.listF.filter(item => item.a === data);\n    if (e.a === 4) {\n      this.setState({\n        allList: this.state.listF[0]\n      });\n    } else {\n      this.setState({\n        allList: domdta[0]\n      });\n    }\n    // console.log( spin.style.transform);\n    // 拿到原始角度 originAngle:replace用来如果不是0-9的数字 那么输出为空\n    let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');\n    // console.log(originAngle);\n    if (originAngle) {\n      originAngle = parseInt(originAngle, 10); // 以十进制的形式转换成数字\n    } else {\n      originAngle = 0; // 否则等于0\n    }\n\n    spin.style.transform = 'rotate(' + (originAngle + 360) + 'deg)';\n  }\n}\nexport default Writter;","map":{"version":3,"names":["React","PureComponent","axios","WritterWrapper","WritterTitle","WritterList","WritterItem","Writter","constructor","props","state","allList","listF","handleChangePage","bind","componentDidMount","get","then","res","data","success","perPage","result","writterList","reduce","acc","curr","i","pageNum","Math","floor","a","array","push","setState","render","spinIcon","icon","Array","isArray","map","item","v","imgUrl","name","jianjie","e","spin","domdta","filter","originAngle","style","transform","replace","parseInt"],"sources":["D:/ccc/testgit/jianshu/src/pages/home/components/Writter.js"],"sourcesContent":["import React,{PureComponent} from \"react\";\r\nimport axios from \"axios\";\r\nimport {WritterWrapper,WritterTitle,WritterList,WritterItem} from \"../style\";\r\nclass Writter extends PureComponent {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n           allList:null,\r\n           listF:null,\r\n        }\r\n        this.handleChangePage=this.handleChangePage.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        axios.get('/api/home.json').then((res)=>{\r\n        const {data,success}=res.data     \r\n        if(success===true){\r\n            const perPage = 5;\r\n            const result = data.writterList.reduce((acc, curr, i) => {\r\n              const pageNum = Math.floor(i / perPage);\r\n              if (!acc[pageNum]) {\r\n                acc[pageNum] = { a: pageNum + 1, array: [] };\r\n              }\r\n              acc[pageNum].array.push(curr);\r\n              return acc;\r\n            }, []);\r\n     \r\n            this.setState({          \r\n                allList:result[0]\r\n                \r\n            })\r\n            this.setState({           \r\n                listF:result               \r\n            })\r\n        \r\n}})\r\n    }\r\n    render(){\r\n        const {allList}=this.state       \r\n        return (\r\n            <WritterWrapper>\r\n                <WritterTitle>\r\n                    <span className=\"recomwritter\">推荐作者</span>\r\n                    <a className=\"changewritter\"\r\n                    onClick={()=>this.handleChangePage(allList,this.spinIcon)}\r\n                    > \r\n                    <i  ref={(icon)=>{this.spinIcon=icon}} className=\"iconfont spin \">&#xe851;</i>\r\n                        换一批</a>\r\n                </WritterTitle>\r\n                <WritterList>\r\n                    {\r\n                     allList && Array.isArray(allList.array) && allList.array.map((item,v)=>{                          \r\n                            return (\r\n                                <WritterItem key={v}>\r\n                                <div className=\"write\">\r\n                                <a className=\"writter\"><img className=\"writter-pic\" src={item.imgUrl} /></a>\r\n                                <a className=\"writter-name\">{item.name}</a>\r\n                                <p className=\"writter-jianjie\">{item.jianjie}</p>\r\n                                </div>\r\n                                <a className=\"writter-guanzhu\" >\r\n                                <i className=\"iconfont\">&#xeaf3;</i>\r\n                                 关注</a>\r\n                              </WritterItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </WritterList>\r\n                <a className=\"chakanquanbu\">查看全部<i className=\"iconfont\">&#xe62d;</i></a>\r\n            </WritterWrapper>\r\n        )\r\n    }\r\n    handleChangePage(e,spin){\r\n     let data=e.a+1\r\n     let domdta=this.state.listF.filter(item=>item.a===data)\r\n        if(e.a===4){\r\n            this.setState({\r\n                allList:this.state.listF[0]\r\n            })\r\n        }else{\r\n            this.setState({\r\n            allList:domdta[0]\r\n        })\r\n        }\r\n        // console.log( spin.style.transform);\r\n        // 拿到原始角度 originAngle:replace用来如果不是0-9的数字 那么输出为空\r\n        let originAngle =spin.style.transform.replace(/[^0-9]/ig,'')\r\n        // console.log(originAngle);\r\n            if(originAngle){\r\n                originAngle=parseInt(originAngle,10);  // 以十进制的形式转换成数字\r\n            }else {\r\n                originAngle = 0;  // 否则等于0\r\n            }\r\n        spin.style.transform='rotate(' + (originAngle+360) + 'deg)';\r\n        \r\n    }\r\n \r\n}\r\n\r\nexport  default Writter"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}